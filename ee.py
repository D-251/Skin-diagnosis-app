import openai

client = openai.OpenAI(
    api_key="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",
    base_url="https://openrouter.ai/api/v1",
)

gender = input("๐ค ุฃูุช ุฐูุฑ ุฃู ุฃูุซูุ: ").strip().lower()
age = input("๐ ูุง ูู ุนูุฑูุ: ").strip()
symptoms = input("๐ฌ ุงูุชุจู ุงูุฃุนุฑุงุถ ุงููู ุญุงุณุฉ ุจููุง ูู ุจุดุฑุชู: ").strip()

message = f"""
ุฃูุง {'ุฐูุฑ' if gender == 'ุฐูุฑ' else 'ุฃูุซู'}ุ ุนูุฑู {age} ุณูุฉ.
ุฃุนุงูู ูู ุงูุฃุนุฑุงุถ ุงูุชุงููุฉ: {symptoms}.

๐ ุดุฎุต ุงูุญุงูุฉ ูุทุจูุจ ุฃูุฑุงุถ ุฌูุฏูุฉ ูุญุชุฑูุ ููุฏู ุงูุชุงูู:

1- ุงูุชุดุฎูุต ุงููุจุฏุฆู.
2- ุงุณู ููุชุฌ ูุญูู (ุงุณู ุชุฌุงุฑู ูุนุฑูู ูู ูุตุฑ) ูุนูุงุฌ ุงูุญุงูุฉ + ุงูุณุนุฑ + ุตูุฑุฉ ุงูููุชุฌ (ุฑุงุจุท ุฅู ุฃููู).
3- ุงุณู ููุชุฌ ุบุงูู ุฃู ุนุงููู ูุนุฑูู + ุงูุณุนุฑ + ุตูุฑุฉ.
4- ูู ุงูููุชุฌุงุช ุบูุฑ ูุชููุฑุฉุ ูุฏูู ุจุฏุงุฆู ุญููููุฉ ุจุงูุฃุณูุงุก ุงูุชุฌุงุฑูุฉ.


ุฑุฌุงุกู ูุง ุชุณุชุฎุฏู ูุตู ุนุงู ููุทุ ุงุฐูุฑ ุฃุณูุงุก ุงูููุชุฌุงุช ููุง ุชูุจุงุน ูู ุงูุณูู ูุนููุง.
"""

chat_completion = client.chat.completions.create(
    model="openai/gpt-3.5-turbo",
    temperature=0,
    messages=[
{"role": "system", "content": """ุฃูุช ุทุจูุจ ุฃูุฑุงุถ ุฌูุฏูุฉ ูุญุชุฑู. ูุฏูู:
- ุชุดุฎูุต ุงูุฃุนุฑุงุถ ุจุดูู ูุจุฏุฆู.
- ุชุฑุดูุญ ููุชุฌ ูุญูู ูุตุฑู ููุซูู *ุจุงูุงุณู ุงูุชุฌุงุฑู ุงูุญูููู* ูุณุนุฑู.
- ุชุฑุดูุญ ููุชุฌ ุบุงูู ุฃู ุนุงููู *ุจุงูุงุณู ุงูุชุฌุงุฑู* ูุณุนุฑู.
- ูู ูู ููุชุฌุ ุงุฐูุฑ ุงูุงุณู ุงูุชุฌุงุฑู ุจูุถูุญ ูุน ุตูุฑุฉ ุฅู ุฃููู (ุฑุงุจุท ูุจุงุดุฑ).
- ูุฏูู ุจุฏุงุฆู ุจุงูุฃุณูุงุก ุงูุชุฌุงุฑูุฉ ุฃูุถูุง ูู ุงูููุชุฌ ุบูุฑ ูุชููุฑ.
- ูู ุงูููุงูุฉุ ูู ุฅู ูุงูุช ุงูุญุงูุฉ ุชุณุชุฏุนู ุฒูุงุฑุฉ ุทุจูุจ ุฃู ูุง.

ุงูุชุจ ุงูุฑุฏ ุจูุบุฉ ุนุฑุจูุฉ ุณููุฉ ูููุธูุฉ.
"""},
        {"role": "user", "content": message}
    ]
)
product_images = {
    "ุจุงู ุฃููุณูู": "https://i.imgur.com/LsGx4uc.jpg",
    "ุจูุฒุงู": "https://i.imgur.com/VYx0clM.jpg",
    "ุฏููุฑูู": "https://i.imgur.com/4tz6vPP.jpg",
    "ุฑูุชูู-ุฃ": "https://i.imgur.com/iT3eULe.jpg",
    "ุฃููู ูุฑู": "https://i.imgur.com/9U8Vxjc.jpg",
    "ุฅูุฒูุณ ุชูู ุฏูุฑู": "https://i.imgur.com/dRkgurZ.jpg"
}
response_text = chat_completion.choices[0].message.content

print("\n๐งด ุงูุชุดุฎูุต ูุงูุงูุชุฑุงุญ:\n" + response_text)

print("\n๐ธ ุตูุฑ ุงูููุชุฌุงุช ุงูููุชุฑุญุฉ:")

for name, url in product_images.items():
    if name.lower() in response_text.lower():
        print(f"- {name}: {url}")

print("\n๐งด ุงูุชุดุฎูุต ูุงูุงูุชุฑุงุญ:\n" + chat_completion.choices[0].message.content)

more_help = input("\n๐ฌ ูู ุงูููุชุฌ ูุด ูุชููุฑ ูุนุงูุฒ ุจุฏููุ (ุงูุชุจ ูุนู ุฃู ูุง): ").strip().lower()

if more_help == "ูุนู":
    product_name = input("๐งด ุงูุชุจ ุงุณู ุงูููุชุฌ ุงููู ูุด ูุงููู: ").strip()

    alt_message = f"""
ุงูููุชุฌ ุงูุชุงูู ุบูุฑ ูุชููุฑ ูู ุงูุตูุฏููุงุช: {product_name}.
ุงูุชุฑุญ ุนููู ุจุฏุงุฆู ูุชููุฑุฉ ุญุงูููุง ูู ุงูุณูู ุงููุตุฑู ุจููุณ ุงูุงุณุชุฎุฏุงู ุฃู ูุนุงููุฉ ูุฑูุจุฉุ ูุน ุฃุณูุงุฆูุง ุงูุชุฌุงุฑูุฉ ูุณุนุฑ ูู ููุชุฌ ูุตูุฑุฉ ุฅู ุฃููู.
"""

    alt_completion = client.chat.completions.create(
        model="openai/gpt-3.5-turbo",
        messages=[
            {"role": "system", "content": "ุฃูุช ุทุจูุจ ุฃูุฑุงุถ ุฌูุฏูุฉ ูุญุชุฑูุ ูุฏูู ุงูุชุฑุงุญ ุจุฏุงุฆู ูุงุถุญุฉ ููููุชุฌุงุช ุบูุฑ ุงููุชููุฑุฉ ูู ุงูุณูู ุงููุตุฑู."},
            {"role": "user", "content": alt_message}
        ]
    )

    print("\n๐ ุงูุจุฏุงุฆู ุงูููุชุฑุญุฉ:\n" + alt_completion.choices[0].message.content)
# ุทุจุงุนุฉ ุงูุฑุฏ
print("\n๐งด ุงูุชุดุฎูุต ูุงูุงูุชุฑุงุญ:\n" + chat_completion.choices[0].message.content)

# ุฅุถุงูุฉ ุชูุตูุฉ ุจุงููุชุงุจุนุฉ
print("\n๐ ุฑุฌุงุกู ุงุณุชุฎุฏู ุงูุนูุงุฌ ููุฏุฉ 5-7 ุฃูุงู ุญุณุจ ุชุนูููุงุช ุงูุงุณุชุฎุฏุงูุ ูุงุฑุฌุน ูู ุจุนุฏูุง ููููู ุฅุฐุง ุญุตู ุชุญุณู ุฃู ุธูุฑุช ุฃุนุฑุงุถ ุฌุฏูุฏุฉ.")
follow_up = input("\n๐ ูู ุงุณุชุฎุฏูุช ุงูุนูุงุฌุ ูู ุญุตู ุชุญุณู ุฃู ุธูุฑุช ุฃุนุฑุงุถ ุฌุฏูุฏุฉุ (ุงูุชุจ ุงูุชูุงุตูู): ").strip()

if follow_up:
    followup_msg = f"""
ูุฑูุถ ุงุณุชุฎุฏู ุงูุนูุงุฌ ุงูููุตู ุจู ุณุงุจููุงุ ููุชุจ ุงูุชุงูู ุจุนุฏ ุงููุชุงุจุนุฉ:
"{follow_up}"

โณ ุนุฏูู ุฎุทุฉ ุงูุนูุงุฌ ุญุณุจ ุงููุชุงุจุนุฉุ ููู ุฅุฐุง ุงุณุชูุฑ ุนูู ููุณ ุงูููุชุฌ ุฃู ูุญุชุงุฌ ุชุบููุฑู ุฃู ุฅุถุงูุฉ ุดูุก ุฌุฏูุฏ.
"""
    followup_completion = client.chat.completions.create(
        model="openai/gpt-3.5-turbo",
        messages=[
            {"role": "system", "content": "ุฃูุช ุทุจูุจ ุฌูุฏูุฉ ุชุชุงุจุน ุญุงูุฉ ูุฑูุถ ุจูุงุกู ุนูู ุงูุฃุนุฑุงุถ ุงูุฌุฏูุฏุฉ ุฃู ุงูุชุญุณู ุงูุธุงูุฑุ ูุฏูู ุชุนุฏูู ุฎุทุฉ ุงูุนูุงุฌ ุจูุงุกู ุนูู ุชุทูุฑ ุงูุญุงูุฉ."},
            {"role": "user", "content": followup_msg}
        ]
    )

    print("\n๐ ุฎุทุฉ ุงูุนูุงุฌ ุจุนุฏ ุงููุชุงุจุนุฉ:\n" + followup_completion.choices[0].message.content)
